# 2. Shebang, File Permissions, and Running Scripts

## Shebang (#!)
The **shebang** line defines which interpreter will run the script.

### Syntax
```bash
#!/bin/bash
```
- `#!` → indicates an interpreter directive
- `/bin/bash` → path to Bash shell (alternatively `/usr/bin/env bash` for portability)

### Example
```bash
#!/bin/bash
# This script prints a greeting
echo "Hello, Linux!"
```
- Ensures the script runs with Bash regardless of the current shell

---

## File Permissions
Linux uses **permissions** to control access to files and scripts.

### Viewing Permissions
```bash
ls -l script.sh
```
- Example output: `-rwxr-xr-- 1 user user 123 Nov 23 18:00 script.sh`
  - `r` → read
  - `w` → write
  - `x` → execute
  - Order: owner, group, others

### Changing Permissions
```bash
chmod +x script.sh          # Add execute permission
chmod 755 script.sh         # rwx for owner, rx for group/others
chmod u+x,g-w,o-r script.sh # Fine-tune permissions
```
- `chmod` → change file permissions
- `+` → add, `-` → remove, `=` → set exact
- `u` → owner, `g` → group, `o` → others

### Understanding Permissions Symbols
- `rwx` → 4+2+1 = 7 (full), `rx` = 5, `r` = 4
- Numeric mode examples:
  - `chmod 700 script.sh` → owner full access, others none
  - `chmod 644 script.sh` → owner read/write, others read only

---

## Running Scripts
Scripts can be executed in multiple ways.

### 1. Using Relative or Absolute Path
```bash
./script.sh
/home/user/script.sh
```
- `./` → current directory
- Requires **execute permission**

### 2. Using Shell Interpreter Directly
```bash
bash script.sh
sh script.sh
```
- Does not require execute permission
- Useful if shebang is missing or different shell required

### 3. Using Source (Runs in current shell)
```bash
source script.sh
. script.sh
```
- Executes the script in the **current shell**, preserving variables and functions

---

## Practical Example
1. Create script `greet.sh`:
```bash
#!/bin/bash
# Print greeting
echo "Hello, $USER!"
```
2. Make it executable:
```bash
chmod +x greet.sh
```
3. Run the script:
```bash
./greet.sh
```
- Output: `Hello, pujan!` (or your username)

### Using Bash Directly
```bash
bash greet.sh
```
- Useful for scripts without execute permission

### Sourcing the Script
```bash
source greet.sh
```
- Variables defined in script remain available in the current shell

---

## Summary
- **Shebang** (`#!`) specifies the interpreter
- **Permissions** (`chmod`) control access and execution rights
- **Execution methods**: `./script.sh`, `bash script.sh`, `source script.sh`
- Proper shebang, permissions, and execution ensure scripts **run reliably and securely**