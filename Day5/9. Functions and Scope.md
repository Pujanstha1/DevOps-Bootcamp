# 9. Functions and Scope

Functions allow scripts to **modularize code** and reuse logic multiple times.

---

## 9.1 Defining a Function
### Syntax
```bash
function_name() {
    commands
}
```
- Functions can also be defined as `function function_name { commands }`

### Example
```bash
#!/bin/bash
greet() {
    echo "Hello, $1"
}

greet Pujan  # Output: Hello, Pujan
```
- `$1` → first argument passed to function

---

## 9.2 Calling a Function
- Use the function name followed by arguments:
```bash
greet John
```
- Functions execute in the **current shell environment** by default

---

## 9.3 Function Arguments
- `$1`, `$2`, ... → positional parameters inside functions
- `$@` → all arguments as separate words
- `$*` → all arguments as a single word
- `$#` → number of arguments

### Example
```bash
sum() {
    total=$(($1 + $2))
    echo "Sum: $total"
}
sum 5 10  # Output: Sum: 15
```

---

## 9.4 Return Values
- Functions can return **exit status** using `return`
- For numeric values, use `echo` to capture output

### Example
```bash
add() {
    echo $(($1 + $2))
}
result=$(add 3 7)
echo "Result: $result"  # Output: Result: 10
```

---

## 9.5 Scope
- Variables defined **inside functions** are local to the function unless declared `local`
- Variables outside are global by default

### Example
```bash
#!/bin/bash
name="Global"
show_name() {
    local name="Local"
    echo "Inside function: $name"
}
show_name        # Output: Inside function: Local
echo "Outside function: $name"  # Output: Outside function: Global
```

---

## Practical Examples
1. Function to greet multiple users:
```bash
greet_users() {
    for user in "$@"; do
        echo "Hello, $user!"
    done
}
greet_users Alice Bob Charlie
```
2. Function to check if a file exists:
```bash
check_file() {
    if [ -f "$1" ]; then
        echo "$1 exists"
    else
        echo "$1 does not exist"
    fi
}
check_file /etc/passwd
```

---

## Summary
- Functions **modularize scripts** and improve readability
- Arguments accessed with `$1`, `$2`, `$@`, `$*`
- `return` for exit status, `echo` for numeric values
- **Local variables** prevent conflicts with global scope
- Using functions makes scripts **reusable and mainta