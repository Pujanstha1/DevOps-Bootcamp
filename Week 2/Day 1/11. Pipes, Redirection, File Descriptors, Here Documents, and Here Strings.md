# 11. Pipes, Redirection, File Descriptors, Here Documents, and Here Strings

## 11.1 Pipes `|`
- Send output of one command as input to another.

### Example
```bash
ls -l | grep ".txt"
```
- `ls -l` output filtered by `grep` to show `.txt` files

---

## 11.2 Redirection
### Output Redirection `>` and `>>`
- `>` → overwrite file
- `>>` → append to file

```bash
echo "Hello" > file.txt   # Creates or overwrites file.txt
echo "World" >> file.txt  # Appends to file.txt
```

### Input Redirection `<`
- Reads input from a file
```bash
sort < file.txt
```

### Error Redirection `2>` and `2>>`
- Redirect standard error (stderr)
```bash
ls /nonexistent 2> error.log    # Save error messages
ls /nonexistent 2>> error.log   # Append errors
```

### Combine stdout and stderr
```bash
command > output.log 2>&1   # Redirect both to same file
command &> all.log           # Bash shorthand
```

---

## 11.3 File Descriptors
- `0` → stdin
- `1` → stdout
- `2` → stderr
- Redirect using `&` for descriptors

### Example
```bash
command 1> out.txt 2> err.txt  # Separate stdout and stderr
```

---

## 11.4 Here Document `<<`
- Feed multi-line input to a command

### Syntax
```bash
command << EOF
line1
line2
EOF
```

### Example
```bash
cat << EOF > file.txt
Hello World
This is a test
EOF
```
- Writes multiple lines to `file.txt`

---

## 11.5 Here String `<<<`
- Feed a single string as input to a command

### Example
```bash
grep "Linux" <<< "I love Linux scripting"
# Output: I love Linux scripting
```

---

## Practical Examples
1. List .txt files and save output:
```bash
ls *.txt > txt_files.txt
```
2. Sort a file and capture errors:
```bash
sort file.txt > sorted.txt 2> sort_errors.log
```
3. Use pipe and redirection:
```bash
cat file.txt | grep "error" >> errors.log
```
4. Multi-line input with here document:
```bash
#!/bin/bash
mail -s "Test" user@example.com << EOF
Hello,
This is a test email.
Regards
EOF
```

---

## Summary
- **Pipes `|`** → connect commands
- **Redirection** → `>`, `>>`, `<`, `2>`, `&>`
- **File descriptors** → 0 (stdin), 1 (stdout), 2 (stderr)
- **Here documents `<<`** → multi-line input
- **Here strings `<<<`** → single-line input
- Mastering these tools